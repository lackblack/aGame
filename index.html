<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>a Game</title>
    <style>
        body {
            font-family: 'Courier New', monospace;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 100vh;
            margin: 0;
            background-color: #1a1a1a;
            color: #e0e0e0;
        }
        #gameContainer {
            background-color: #2a2a2a;
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0,0,0,0.5);
            padding: 20px;
            max-width: 500px;
            width: 90%;
            text-align: center;
        }
        #gameTitle {
            font-size: 65px;
            margin-bottom: 15px;
            margin-top: 35px;
        }
        #gameContent {
            font-size: 18px;
            line-height: 1.6;
            height: auto;
            overflow-y: auto;
            margin-bottom: 15px;
            margin-top: 35px;
            text-align: center;
        }
        #userInput {
            width: 30px;
            padding: 8px;
            font-size: 16px;
            border: 1px solid #4a4a4a;
            border-radius: 4px;
            margin-bottom: 10px;
            background-color: #3a3a3a;
            color: #e0e0e0;
            text-align: center;
        }
        .button {
            padding: 10px 20px;
            font-size: 16px;
            background-color: #FF4040;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            margin: 5px;
        }
        .button:hover {
            background-color: #FF6347;
        }
        .main-character {
            color: #FF4040;
            font-weight: bold;
        }
        .normal-a {
            color: #FF4040;
            font-weight: normal;
        }
        #credits {
            margin-top: 20px;
            font-size: 14px;
            color: #888;
        }
        #helpLink {
            font-size: 10px;
            color: #FF4040;
            cursor: pointer;
            text-decoration: none;
            margin-top: 10px;
        }
        #helpLink:hover {
            color: #FF6347;
        }
        #replayButton {
            background-color: #4040FF;
        }
        #replayButton:hover {
            background-color: #3030FF;
        }
        #startButton {
            background-color: #FF4040;
        }
        #startButton:hover {
            background-color: #FF4500;
        }
        #error-message {
            color: #FF4040;
            margin-top: 5px;
            display: none;
        }
    </style>
</head>
<body>
    <div id="gameContainer">
        <div id="gameTitle">a Game.</div>
        <div id="gameContent"></div>
        <input type="text" id="userInput" maxlength="1" style="display: none;">
        <button id="submitButton" class="button" style="display: none;">Submit</button>
        <div id="error-message"></div>
        <button id="nextButton" class="button" style="display: none;">Next</button>
        <button id="replayButton" class="button" style="display: none;">Play Again</button>
        <button id="startButton" class="button" style="display: none;">Play</button>
        <div id="credits">Game by Joonas Ennala</div>
        <div id="helpLink" onclick="window.open('https://en.wikipedia.org/wiki/A', '_blank')">Help</div>
    </div>

    <script>
        const gameStates = [
            { 
                title: "<span class='normal-a'>a</span> Game.",
                content: [
                    "A game of small steps, big dreams, and quiet courage. Where each step you take turns fear into resolve and doubt into destiny. This is the journey of the Little One, waiting to become brave and bold."
                ],
                input: false
            },
            { 
                title: "<span class='normal-a'>a</span> Game.",
                content: [
                    "In a world woven from letters and punctuation, there lived the Little One, a small 'a'. Though slight in form, the Little One dreamed of grand adventures, of facing the shadows that loom large and finding light in the darkest places.",
                    "The Little One, trembling yet determined, longed to venture beyond the safety of its familiar world.",
                    "Every journey begins with a single step—but first, the Little One must find its inner strength."
                ],
                input: false 
            },
            {
                title: "<span class='normal-a'>a</span> Game.",
                content: [
                    "As the Little One stands at the threshold of its adventure, a warm glow begins to emanate from within.",
                    "The Little One is brave. The Little One is bold."
                ],
                input: false
            },
            {
                title: "<span class='main-character'>a</span> Game.",
                content: [
                    "With newfound courage, the once-timid 'a' transforms, ready to face whatever challenges lie ahead.",
                    "Now empowered and emboldened, will you guide this brave 'a' as it takes its first step into the unknown?"
                ],
                input: false
            },
            { 
                title: "<span class='main-character'>a</span>Game.", 
                content: [
                    "The Little One takes its first cautious step into the unknown, where it meets the Guardian, a towering sentinel whose gaze is sharp and unyielding.",
                    "Suddenly, the Guardian hurls a glowing orb, its light searing through the air! The Little One must act quickly to deflect this attack. Look around, Little One. What could you use to shield yourself and turn this force back upon the Guardian?"
                ],
                input: true, 
                correct: ["@", "Ⓐ", "ⓐ", "⒜"]
            },
            { 
                title: "G<span class='main-character'>a</span>me.", 
                content: [
                    "The Guardian falls, its own power reflected back upon it. As the dust settles, the Little One notices the fallen orb, still pulsing with energy. 'This might be useful,' it thinks, carefully picking up the orb.",
                    "But before the Little One can catch its breath, it encounters the Apparition, a sly phantom that plays tricks on the mind. The world twists and turns, reality itself seeming to flip and reverse.",
                    "To see clearly again and move forward, the Little One must find its true self in this backward world. What do you see when you look at your reflection in a mirror?"
                ],
                input: true, 
                correct: ["ɒ", "ɐ"]
            },
            { 
                title: "Ga<span class='main-character'>a</span>me.", 
                content: [
                    "The Apparition's illusions shatter, and the Little One presses on, its resolve growing stronger with each challenge overcome.",
                    "Ahead looms the Maze-maker, a master of puzzles and riddles. Its form shifts constantly, sometimes appearing as one, sometimes as many.",
                    "The Maze-maker speaks: 'I am 3, yet I am 'm'. My power lies in my duality. Show me you understand, little dreamer, and you may pass. How might you wield this power yourself?'"
                ],
                input: true, 
                correct: "4" 
            },
            { 
                title: "Gam<span class='main-character'>a</span>e.", 
                content: [
                    "The Maze-maker bows to the Little One's wisdom, allowing passage. But the final challenge awaits—the Enigma, a being of pure shadow and malevolence.",
                    "The Enigma stretches across the path, a vast abyss of darkness threatening to swallow all light. The Little One must find a way past this terror.",
                    "Remember your journey, Little One. You've grown, you've learned. How might you slip past this darkness, embracing both shadow and light?"
                ],
                input: true, 
                correct: "æ" 
            },
            { 
                title: "Gam<span class='main-character'>a</span>e.", 
                content: [
                    "Clever Little One! You've managed to sneak behind the Enigma, but its darkness still looms. Now is the time to use what you've learned, what you've gathered on your journey.",
                    "The orb from the Guardian pulses in your grasp. Its light, once a threat, now holds the power to banish this final shadow. How will you unleash its power?"
                ],
                input: true, 
                correct: "å" 
            },
            { 
                title: "Game<span class='main-character'>a</span>.", 
                content: [
                    "The Enigma's darkness dissipates, and the Little One finds itself at the edge of its known world. The path ends here, at a vast expanse of emptiness.",
                    "Before you lies a single dot—a point of transition, a symbol of both endings and beginnings. The Little One must take a leap of faith, trusting in its newfound strength and courage.",
                    "How will you rise above this final challenge, elevating yourself to new heights?"
                ],
                input: true, 
                correct: ["⁴", "ᵃ", "ª"] 
            },
            { 
                title: "Game.<span class='main-character'>a</span>", 
                content: [
                    "The leap is made, but the journey is not yet complete. The Little One stands on the brink of transformation, one last step away from becoming something greater.",
                    "A single breath, a pause, and then... it happens. The Little One feels the change within, the ascension from small to great. What final action will complete this metamorphosis?"
                ],
                input: true, 
                correct: [" ", "", " "] 
            },
            { 
                title: "Game. <span class='main-character'>A</span>", 
                content: [
                    "The journey is complete. The Little One, now transformed into a capital 'A', stands tall and proud, having overcome the trials of its world.",
                    "This journey is a testament to the power of courage, to the idea that even the smallest can rise to greatness with each step taken in faith and determination.",
                    "Remember, every grand adventure begins with a single step. The dot you've passed is both an end and a beginning—the conclusion of one tale and the opening of countless new chapters.",
                    "What adventures await you now, Little One?",
                    "Thank you for playing 'a Game'!"
                ],
                input: false
            }
        ];

        let currentState = 0;
        let currentPage = 0;

        const gameTitleElement = document.getElementById('gameTitle');
        const gameContentElement = document.getElementById('gameContent');
        const userInputElement = document.getElementById('userInput');
        const submitButtonElement = document.getElementById('submitButton');
        const nextButtonElement = document.getElementById('nextButton');
        const replayButtonElement = document.getElementById('replayButton');
        const startButtonElement = document.getElementById('startButton');
        const errorMessageElement = document.getElementById('error-message');

        function updateGame() {
            const state = gameStates[currentState];
            gameTitleElement.innerHTML = state.title;
            gameContentElement.innerHTML = state.content[currentPage];

            userInputElement.style.display = 'none';
            submitButtonElement.style.display = 'none';
            nextButtonElement.style.display = 'none';
            replayButtonElement.style.display = 'none';
            startButtonElement.style.display = 'none';
            errorMessageElement.style.display = 'none';

            if (currentState === 0) {
                startButtonElement.style.display = 'inline-block';
            } else if (currentPage < state.content.length - 1) {
                nextButtonElement.style.display = 'inline-block';
            } else if (state.input) {
                userInputElement.style.display = 'inline-block';
                submitButtonElement.style.display = 'inline-block';
                userInputElement.focus();
            } else if (currentState === gameStates.length - 1) {
                replayButtonElement.style.display = 'inline-block';
            } else {
                nextButtonElement.style.display = 'inline-block';
            }
        }

        function startGame() {
            currentState = 1;
            currentPage = 0;
            updateGame();
        }

        function nextPage() {
            if (currentPage < gameStates[currentState].content.length - 1) {
                currentPage++;
            } else {
                currentPage = 0;
                currentState++;
            }
            updateGame();
        }

        function checkInput() {
            const userInput = userInputElement.value.trim();
            const correctInput = gameStates[currentState].correct;

            if (Array.isArray(correctInput) ? correctInput.includes(userInput) : userInput === correctInput) {
                currentState++;
                currentPage = 0;
                userInputElement.value = '';
                updateGame();
            } else {
                errorMessageElement.innerText = 'Not correct! Everything is "a" here. Try once more!';
                errorMessageElement.style.display = 'block';
            }
        }

        function replay() {
            currentState = 0;
            currentPage = 0;
            updateGame();
        }

        startButtonElement.addEventListener('click', startGame);
        submitButtonElement.addEventListener('click', checkInput);
        nextButtonElement.addEventListener('click', nextPage);
        replayButtonElement.addEventListener('click', replay);

        userInputElement.addEventListener('keypress', function(e) {
            if (e.key === 'Enter') {
                checkInput();
            }
        });

        updateGame();
    </script>
</body>
</html>
